#===============================================================================
# SYSTEM UP TELEGRAM & EMAIL NOTIFICATION
# File: automations/system_up_telegram.yaml
# Description: Daily system check at 08:00 via Telegram and Email
#===============================================================================

- id: 'morning_test_telegram_system_check'
  alias: 'Morning Test Telegram & Email - System Check'
  description: 'Sends system check via Telegram and Email every morning at 08:00'
  
  trigger:
    - platform: time
      at: '07:00:00'
  
  condition: []
  
  action:
    # Send Telegram Message
    - service: telegram_bot.send_message
      data:
        config_entry_id: 01K7PH2MD1SA9VXHCP39WVCJM4
        message: |
          ðŸ  *HOME ASSISTANT DAILY CHECK*
          
          âœ… System Status: *OPERATIONAL*
          
          ðŸ“Š *System Details:*
          ðŸ• Time: {{ now().strftime('%H:%M:%S') }}
          ðŸ“… Date: {{ now().strftime('%A, %d %B %Y') }}
          ðŸ“¡ IP: 192.168.1.30:8123
          
          All automation services are running normally! âœ¨
          
          _Automated daily system verification message_
        parse_mode: markdown
    
    # Send Email Message
    - service: notify.email_notification
      data:
        title: >-
          Home Assistant Daily System Check - {{ now().strftime('%Y-%m-%d') }}
        message: >-
          HOME ASSISTANT DAILY SYSTEM CHECK
          
          Date: {{ now().strftime('%A, %d %B %Y') }}
          Time: {{ now().strftime('%H:%M:%S') }}
          
          ================================================================================
          
          SYSTEM STATUS: OPERATIONAL
          
          All automation services are running normally.
          
          System Details:
          - Date: {{ now().strftime('%A, %d %B %Y') }}
          - Time: {{ now().strftime('%H:%M:%S') }}
          - IP Address: 192.168.1.30:8123
          
          ================================================================================
          
          This is an automated daily system verification message.
          
          System: http://192.168.1.30:8123
    
    # Log the check
    - service: system_log.write
      data:
        message: "Daily system check completed at {{ now().strftime('%Y-%m-%d %H:%M:%S') }}"
        level: info
  
  mode: single